{% extends 'tail_docker_ps/base.html' %}

{% block content %}

<table class="layout-table01">

  <tr>
      <td><p><samp>CONTAINER ID</samp></p></td>
      <td><p>IMAGE</p></td>
      <td><p>NAME</p></td>
      <td><p>PORT</p></td>
      <td><p>tail</p></td>
  </tr>
  <!-- コンテナ詳細を表示する -->
  
  <tr>
      <td>{{ CONTAINER_ID }}</td>
      <td>{{ IMAGE }}</td>
      <td>{{ NAME }}</td>
      <td>{{ PORT }}</td>
      <td>{{ tail }}</td>
  </tr>
  


</table>
<!-- rows="30" cols="100"-->
<textarea id="console" style="width:100%;height:75%" readonly></textarea>
<script>
    $(function() {
      let ES = new EventSource(
        "{% url 'logs_detail' container_id %}?tail={{ tail }}"
      );
      ES.onmessage = function(e) {
        $('#console').append(`${e.data}\n`);
        $('#console').scrollTop(
          $('#console')[0].scrollHeight - $('#console').height()
        );
      };
    });
</script>
 
{% endblock %}